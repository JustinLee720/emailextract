/*Copyright (c) 2022 ksoft http://www.dummysoftware.com*/async function isRegistered(){var e=protect(await getStorage("Expression"),!0);return 0==e.indexOf("#O")&&e.indexOf("0%")==e.length-2}function validateRegistrationCode(){if(validateRegistrationForm()){var e=document.querySelector("#txtCode").value.trim(),t=document.querySelector("#dialog-message-icon");t.classList.add("ui-icon-circle-close"),getUrlResponse("http://www.dummysoftware.com/cgi-bin/checkregcode_emailexporter.pl?"+e,async function(r){if(r)if(r.error)document.querySelector("#dialog-message-text").innerHTML=r.error;else if(r.status>=200&&r.status<400)try{var n=JSON.parse(r.body);"OK"===n.result&&(await setStorage("Expression",protect("#O"+e+"0%"),!0),await dataSync(),t.classList.remove("ui-icon-circle-close"),t.classList.add("ui-icon-circle-check")),document.querySelector("#dialog-message-text").innerHTML=n.message}catch(e){document.querySelector("#dialog-message-text").innerHTML="Error in response. Please uninstall and reinstall the app and enter your code again. (C1)"}else document.querySelector("#dialog-message-text").innerHTML="Error "+r.status+", "+(r.request?r.request.statusText:"")+". Please check your connection and try again. (D1)";else document.querySelector("#dialog-message-text").innerHTML="Error connecting to server. Please check your connection and try again. (B1)";var o=document.querySelector("#dialog-message");o.removeEventListener("click",onDialogMessageClick),o.addEventListener("click",onDialogMessageClick),fadeIn(o)})}}function onDialogMessageClick(){fadeOut(document.querySelector("#dialog-message"))}function getUrlResponse(e,t){var r=new XMLHttpRequest;r.open("GET",e),r.setRequestHeader("Cache-Control","no-cache, no-store, max-age=0"),r.onload=function(){t({status:r.status,body:r.responseText,request:r})},r.onerror=function(){t({error:"Error connecting to server. Please check your Internet connection and try again. (A1)",request:r})},r.send()}function protect(e){var t="";if(null!=e)for(i=0;i<e.length;++i)t+=String.fromCharCode(9^e.charCodeAt(i));return t}